!function(){"use strict";function e(){this.$dom=$(document);this.isOldie=!!this.$dom.find("html").hasClass("oldie");this.click="click";this.onReady=this.onOldie=this.onTouch=!1;this.uiModules={};this.inits={};this.path=$("script[gumby-path]").attr("gumby-path")||$("script[data-path]").attr("data-path")||$("script[path]").attr("path")||"javascripts/libs"}e.prototype.init=function(){this.initUIModules();var e=this;this.$dom.ready(function(){e.onReady&&e.onReady();e.isOldie&&e.onOldie&&e.onOldie();Modernizr.touch&&e.onTouch&&e.onTouch()})};e.prototype.ready=function(e){e&&typeof e=="function"&&(this.onReady=e)};e.prototype.oldie=function(e){e&&typeof e=="function"&&(this.onOldie=e)};e.prototype.touch=function(e){e&&typeof e=="function"&&(this.onTouch=e)};e.prototype.debug=function(){return{$dom:this.$dom,isOldie:this.isOldie,uiModules:this.uiModules,click:this.click}};e.prototype.selectAttr=function(){var e=0;for(;e<arguments.length;e++){var t=arguments[e],n="data-"+arguments[e],r="gumby-"+arguments[e];if(this.attr(n))return this.attr(n);if(this.attr(r))return this.attr(r);if(this.attr(t))return this.attr(t)}return!1};e.prototype.addInitalisation=function(e,t){this.inits[e]=t};e.prototype.initialize=function(e){this.inits[e]&&typeof this.inits[e]=="function"&&this.inits[e]()};e.prototype.UIModule=function(e){var t=e.module;this.uiModules[t]=e};e.prototype.initUIModules=function(){var e;for(e in this.uiModules)this.uiModules[e].init()};window.Gumby=new e}();!function(){"use strict";function e(e){this.$el=e;this.$nav=this.$el.find("ul.tab-nav > li");this.$content=this.$el.find(".tab-content");var t=this;this.$nav.children("a").on(Gumby.click,function(e){e.preventDefault();t.click($(this))});this.$el.on("gumby.set",function(e,n){t.set(e,n)})}e.prototype.click=function(e){var t=e.parent().index();this.$nav.add(this.$content).removeClass("active");this.$nav.eq(t).add(this.$content.eq(t)).addClass("active");this.$el.trigger("gumby.onChange",t)};e.prototype.set=function(e,t){this.$nav.eq(t).find("a").trigger(Gumby.click)};Gumby.addInitalisation("tabs",function(){$(".tabs").each(function(){var t=$(this);if(t.data("isTabs"))return!0;t.data("isTabs",!0);new e(t)})});Gumby.UIModule({module:"tabs",events:["onChange","set"],init:function(){Gumby.initialize("tabs")}})}();!function(){"use strict";function e(e){this.$el=e;var t=this;this.$el.on(Gumby.click,function(e){t.click(e)}).on("gumby.check",function(){t.update(!0)}).on("gumby.uncheck",function(){t.update(!1)});t.$el.hasClass("checked")&&t.update(!0)}e.prototype.click=function(e){var t=$(e.target);e.stopPropagation();e.preventDefault();this.$el.hasClass("checked")?this.update(!1):this.update(!0)};e.prototype.update=function(e){var t=this.$el.find("input"),n=this.$el.find("span");if(e){n.append('<i class="icon-check" />');t.prop("checked",!0).end().addClass("checked").trigger("gumby.onCheck").trigger("gumby.onChange")}else t.prop("checked",!1).end().find("i").remove().end().removeClass("checked").trigger("gumby.onUncheck").trigger("gumby.onChange")};Gumby.addInitalisation("checkboxes",function(){$(".checkbox").each(function(){var t=$(this);if(t.data("isCheckbox"))return!0;t.data("isCheckbox",!0);new e(t)})});Gumby.UIModule({module:"checkbox",events:["onCheck","onUncheck","onChange","check","uncheck"],init:function(){Gumby.initialize("checkboxes")}})}();!function(){"use strict";function e(e){this.$el=e;var t=this;this.$el.on(Gumby.click,function(e){t.click(e)}).on("gumby.check",function(){t.update()});t.$el.hasClass("checked")&&t.update()}e.prototype.click=function(e){var t=$(e.target);e.stopPropagation();e.preventDefault();this.update()};e.prototype.update=function(){var e=this.$el.find("input[type=radio]"),t=this.$el.find("span"),n='input[name="'+e.attr("name")+'"]';$(".radio").has(n).removeClass("checked").find("input").prop("checked",!1).end().find("i").remove();e.prop("checked",!0);t.append('<i class="icon-dot" />');this.$el.addClass("checked").trigger("gumby.onChange")};Gumby.addInitalisation("radiobtns",function(){$(".radio").each(function(){var t=$(this);if(t.data("isRadioBtn"))return!0;t.data("isRadioBtn",!0);new e(t)})});Gumby.UIModule({module:"radiobtn",events:["onChange","check"],init:function(){Gumby.initialize("radiobtns")}})}();!function(){"use strict";function e(e){this.$el=e;this.imageSrc=this.$el.attr("src");this.retinaSrc=this.fetchRetinaImage();this.$retinaImg=$(new Image);var t=this;if(!this.retinaSrc)return!1;this.$retinaImg.attr("src",this.retinaSrc).load(function(){t.retinaImageLoaded()})}e.prototype.fetchRetinaImage=function(){var e=this.imageSrc,t=this.imageSrc.search(/(\.|\/)(gif|jpe?g|png)$/i);return t<0?!1:e.substr(0,t)+"@2x"+e.substr(t,e.length)};e.prototype.retinaImageLoaded=function(){this.$el.attr("src",this.$retinaImg.attr("src")).trigger("gumby.onRetina")};Gumby.addInitalisation("retina",function(){if(!window.devicePixelRatio||window.devicePixelRatio<=1)return;$("img[data-retina],img[gumby-retina],img[retina]").each(function(){var t=$(this);if(t.data("isRetina"))return!0;t.data("isRetina",!0);new e(t)})});Gumby.UIModule({module:"retina",events:["onRetina"],init:function(){Gumby.initialize("retina")}})}();!function(){"use strict";function e(e){this.$el=e;this.$holder=Gumby.selectAttr.apply(this.$el,["holder"]);this.fixedPoint=Gumby.selectAttr.apply(this.$el,["fixed"]);this.unfixPoint=!1;this.$holder?this.$holder=$(this.$holder):this.$holder=$(window);if(this.fixedPoint.indexOf("|")>-1){var t=this.fixedPoint.split("|");this.fixedPoint=t[0];this.unfixPoint=t[1]}this.fixedPoint=this.parseAttrValue(this.fixedPoint);this.unfixPoint&&(this.unfixPoint=this.parseAttrValue(this.unfixPoint));var n=this;this.$holder.scroll(function(){n.scroll()})}e.prototype.scroll=function(){var e=this.$holder.scrollTop(),t=this.fixedPoint,n=this.unfixPoint,r=this.endPoint;t=t instanceof jQuery?this.fixedPoint.offset().top:this.fixedPoint;n=n instanceof jQuery?this.unfixPoint.offset().top:this.unfixPoint;n||(n=e*2);e>=t&&e<n&&!this.$el.hasClass("fixed")?this.$el.addClass("fixed").trigger("gumby.onFixed"):e<=t&&this.$el.hasClass("fixed")&&this.$el.removeClass("fixed").trigger("gumby.onUnfixed",0);n&&e>=n&&this.$el.hasClass("fixed")&&this.$el.removeClass("fixed").trigger("gumby.onUnfixed",1)};e.prototype.parseAttrValue=function(e){if($.isNumeric(e))return Number(e);if(e==="top")return this.$el.offset().top;var t=$(e);return t.length?t:!1};Gumby.addInitalisation("fixed",function(){$("[data-fixed],[gumby-fixed],[fixed]").each(function(){var t=$(this);if(t.data("isFixed"))return!0;t.data("isFixed",!0);new e(t)})});Gumby.UIModule({module:"fixed",events:["onFixed","onUnfixed"],init:function(){Gumby.initialize("fixed")}})}();!function(e){"use strict";function t(e,t){this.$this=e;this.$field=this.$this.parents(".field");this.req=t||function(){return!!this.$this.val().length};var n=this;if(this.$this.is("[type=checkbox], [type=radio]")){this.$field=this.$this.parent("label");this.$field.on("gumby.onChange",function(){n.validate()})}else if(this.$this.is("select")){this.$field=this.$this.parents(".picker");this.$field.on("change",function(){n.validate()})}else this.$this.on("blur",function(e){e.which!==9&&n.validate()})}t.prototype.validate=function(){var e=this.req(this.$this);e?this.$field.removeClass("danger").addClass("success"):this.$field.removeClass("success").addClass("danger");return e};e.fn.validation=function(n){var r=e.extend({submit:!1,fail:!1,required:[]},n),i=[];return this.each(function(){if(!r.required.length)return!1;var n=e(this),s=r.required.length,o;for(o=0;o<s;o++)i.push(new t(n.find('[name="'+r.required[o].name+'"]'),r.required[o].validate||!1));n.on("submit",function(e){var t=!1;if(!n.data("passed")){e.preventDefault();var s=i.length,o;for(o=0;o<s;o++)i[o].validate()||(t=!0);if(!t){if(r.submit&&typeof r.submit=="function"){r.submit(n.serializeArray());return}n.data("passed",!0).submit()}else if(r.fail&&typeof r.fail=="function"){r.fail();return}}})})}}(jQuery);!function(){"use strict";function e(e){this.$el=e;this.targetPos=0;this.duration=Number(Gumby.selectAttr.apply(this.$el,["duration"]))||200;this.offset=Gumby.selectAttr.apply(this.$el,["offset"])||!1;this.easing=Gumby.selectAttr.apply(this.$el,["easing"])||"swing";var t=this;this.$el.on(Gumby.click+" gumby.skip",function(e){e.preventDefault();t.calculateTarget()})}e.prototype.calculateTarget=function(){var e=this,t=Gumby.selectAttr.apply(this.$el,["goto"]),n;if(t=="top")this.targetPos=0;else if($.isNumeric(t))this.targetPos=Number(t);else{n=$(t);if(!n)return!1;this.targetPos=n.offset().top}this.skipTo()};e.prototype.skipTo=function(){var e=this;$("html,body").animate({scrollTop:this.calculateOffset()},this.duration,this.easing).promise().done(function(){e.$el.trigger("gumby.onComplete")})};e.prototype.calculateOffset=function(){if(!this.offset)return this.targetPos;var e=this.offset.substr(0,1),t=Number(this.offset.substr(1,this.offset.length));if(e==="-")return this.targetPos-t;if(e==="+")return this.targetPos+t};Gumby.addInitalisation("skiplinks",function(){$(".skiplink > a, .skip").each(function(){var t=$(this);if(t.data("isSkipLink"))return!0;t.data("isSkipLink",!0);new e(t)})});Gumby.UIModule({module:"skiplink",events:["onComplete","skip"],init:function(){Gumby.initialize("skiplinks")}})}();Modernizr.load({test:Modernizr.touch,yep:Gumby.path+"/jquery.mobile.custom.min.js",callback:function(e,t,n){$.mobile&&(window.Gumby.click="tap")},complete:function(){window.Gumby.init();typeof define=="function"&&define.amd&&define(window.Gumby)}});Gumby.ready(function(){(Gumby.isOldie||Gumby.$dom.find("html").hasClass("ie9"))&&$("input, textarea").placeholder()});Gumby.oldie(function(){console.log("This is an oldie browser...")});Gumby.touch(function(){});$(function(){});