/**
* Gumby Retina
*/!function(){"use strict";function e(e){this.$el=e;this.imageSrc=this.$el.attr("src");this.retinaSrc=this.fetchRetinaImage();this.$retinaImg=$(new Image);var t=this;if(!this.retinaSrc)return!1;this.$retinaImg.attr("src",this.retinaSrc).load(function(){t.retinaImageLoaded()})}e.prototype.fetchRetinaImage=function(){var e=this.imageSrc,t=this.imageSrc.search(/(\.|\/)(gif|jpe?g|png)$/i);return t<0?!1:e.substr(0,t)+"@2x"+e.substr(t,e.length)};e.prototype.retinaImageLoaded=function(){this.$el.attr("src",this.$retinaImg.attr("src")).trigger("gumby.onRetina")};Gumby.addInitalisation("retina",function(){if(!window.devicePixelRatio||window.devicePixelRatio<=1)return;$("img[data-retina],img[gumby-retina],img[retina]").each(function(){var t=$(this);if(t.data("isRetina"))return!0;t.data("isRetina",!0);new e(t)})});Gumby.UIModule({module:"retina",events:["onRetina"],init:function(){Gumby.initialize("retina")}})}();