/**
* Gumby Fixed
*/!function(){"use strict";function e(e){this.$el=e;this.$holder=Gumby.selectAttr.apply(this.$el,["holder"]);this.fixedPoint=Gumby.selectAttr.apply(this.$el,["fixed"]);this.unfixPoint=!1;this.$holder?this.$holder=$(this.$holder):this.$holder=$(window);if(this.fixedPoint.indexOf("|")>-1){var t=this.fixedPoint.split("|");this.fixedPoint=t[0];this.unfixPoint=t[1]}this.fixedPoint=this.parseAttrValue(this.fixedPoint);this.unfixPoint&&(this.unfixPoint=this.parseAttrValue(this.unfixPoint));var n=this;this.$holder.scroll(function(){n.scroll()})}e.prototype.scroll=function(){var e=this.$holder.scrollTop(),t=this.fixedPoint,n=this.unfixPoint,r=this.endPoint;t=t instanceof jQuery?this.fixedPoint.offset().top:this.fixedPoint;n=n instanceof jQuery?this.unfixPoint.offset().top:this.unfixPoint;n||(n=e*2);e>=t&&e<n&&!this.$el.hasClass("fixed")?this.$el.addClass("fixed").trigger("gumby.onFixed"):e<=t&&this.$el.hasClass("fixed")&&this.$el.removeClass("fixed").trigger("gumby.onUnfixed",0);n&&e>=n&&this.$el.hasClass("fixed")&&this.$el.removeClass("fixed").trigger("gumby.onUnfixed",1)};e.prototype.parseAttrValue=function(e){if($.isNumeric(e))return Number(e);if(e==="top")return this.$el.offset().top;var t=$(e);return t.length?t:!1};Gumby.addInitalisation("fixed",function(){$("[data-fixed],[gumby-fixed],[fixed]").each(function(){var t=$(this);if(t.data("isFixed"))return!0;t.data("isFixed",!0);new e(t)})});Gumby.UIModule({module:"fixed",events:["onFixed","onUnfixed"],init:function(){Gumby.initialize("fixed")}})}();