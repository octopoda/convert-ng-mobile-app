/**
* Gumby Toggles/Switches
*/!function(){"use strict";function e(e){this.$el=$(e);this.targets=[];this.on="";this.$el.length&&this.init()}function t(e){this.$el=$(e);this.targets=[];this.on="";this.$el.length&&this.init()}e.prototype.init=function(){this.targets=this.parseTargets();this.on=Gumby.selectAttr.apply(this.$el,["on"])||Gumby.click;var e=this;this.$el.on(this.on,function(t){$(this).prop("tagName")==="A"&&t.preventDefault();t.stopPropagation();e.trigger(e.triggered)}).on("gumby.trigger",function(){e.trigger(e.triggered)})};e.prototype.parseTargets=function(){var e=Gumby.selectAttr.apply(this.$el,["trigger"]),t=0,n=[];if(!e)return!1;t=e.indexOf("|");if(t===-1)return[$(e)];n=e.split("|");return n.length>1?[$(n[0]),$(n[1])]:[$(n[0])]};e.prototype.triggered=function(){this.$el.trigger("gumby.onTrigger",[this.$el.hasClass("active")])};t.prototype=new e;e.prototype.trigger=function(e){if(!this.targets)this.$el.toggleClass("active");else if(this.targets.length==1)this.$el.add(this.targets[0]).toggleClass("active");else if(this.targets.length>1)if(this.targets[0].hasClass("active")){this.$el.add(this.targets[0]).removeClass("active");this.targets[1].addClass("active")}else{this.targets[1].removeClass("active");this.$el.add(this.targets[0]).addClass("active")}e&&typeof e=="function"&&e.apply(this)};t.prototype.trigger=function(e){if(!this.targets)this.$el.addClass("active");else if(this.targets.length==1)this.$el.add(this.targets[0]).addClass("active");else if(this.targets.length>1){this.$el.add(this.targets[0]).addClass("active");this.targets[1].removeClass("active")}e&&typeof e=="function"&&e.apply(this)};Gumby.addInitalisation("toggles",function(){$(".toggle").each(function(){var t=$(this);if(t.data("isToggle"))return!0;t.data("isToggle",!0);new e(t)})});Gumby.addInitalisation("switches",function(){$(".switch").each(function(){var e=$(this);if(e.data("isSwitch"))return!0;e.data("isSwitch",!0);new t(e)})});Gumby.UIModule({module:"toggleswitch",events:["trigger","onTrigger"],init:function(){Gumby.initialize("switches");Gumby.initialize("toggles")}})}();